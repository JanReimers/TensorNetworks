
- mpsImp line 372   GetEOLeft_Iterate(h,1,true);  //This does nothing because of the 1 ???
- Does MPSImp need an Epsilons member?
- Move LRPSupervisor to MPS constructor so we don't have to pollute the function signatures with it
- Dont calculate <E^2>-<E>^2 for each IterationScheduleLine.
- GetNormStat(isite) should return a char, keep # iterations separate.
- Convergence Schedule Both methods might benifit from Hamiltonian parameter variations.  For example
        -Jxy  Turn these on gradually to find GS, Hamiltonian nees to supply a list paramater names and ranges.
        -Jz
        -Might need to identify parameters with strings "Jxy"
- Done Support iterations schedule for variational GS search
- Support dynamic tuning of D in iteration schedule.
- Take out support for two operator contrations.  Now that we can combine and compress MPOs we don;t need it for <E^2>.
- Spin space trotter decomp
- Infinite methods iMPS, iTEBD, iDMRG
    -iMPS class with small unit cell
        -calculate largest EV of transfer matrix, use that to normalize.
        -THen what??
            See McCUllough Infnite boundary conditions for matrix product state calculations For
            calculation of L/R eigen vectors
    -iTEBD reasonably straight forward.
            Requires the Vidal lambda-Gamma-Lambda canonical forms with singular values
            stored on the bonds.
            Can we reuse the MPS class for this?  All contractions need to be modified to incorporate
            the SVs from the bonds.
-Dynamically add lattice site, pseudo DMRG
- Play with iTensor for 2D systems.
    -Try one tetrahedon.


-GUI
    Control panel
        Play/Pause in one button.  Use icons?
    Status bar. ModelName (from H), L,S, D, iter#, E, CPU & meminfo (use psutils)
-Plotting support log axes in wxdriver.
-Plot correlations
    Two site correlation calcultion is expensive, so we need a way for the user to eneable and disable them
    This brings up layout issues.  We need screen realestate for
        1) COntrol of current step update detail levels
        2) COntrol of what gets calculated, Correlations, propgator, gradE
        3) Exporting graphs to grace
        4) Saving a "project"
        5) COnvergence schedule editor (listview?)
        6) Freezing one site to remove SU(N) degeneracy
        7) one or two (or N!) site updates. Part of convergence schedule?
        8) Report windows (HTML table?) with columns in the report(ostream) method

-Done Convergence schedule,  increase D, drop epsilons, drop tau for imaginary time evolution
    -Can we use one schedule for 1) variational and 2) imaginary time GS searches?
    - Variational needs: Eps.DE, Eps.Eigen, Eps.<E^2>-<E>^2 NIter, Dmax
    - Imag t needs: Eps.DE, Eps ||Psi1-Psi2||^2, Eps.<E^2>-<E>^2, tau, Niter, Dmax
-Done Fix conventions for lattice site indexing, zero or one based?
    MPS is zero based, FullState is one based, LyX notes are one based
-Done Reconcile local Hilbert space dimension, using d in the Lyx doc and p in code.
-Done In code use M for matricies instead A
-Done Rename MPS to MPS to be consistent with MPO and save space
-Done Ham->CreateMPS should be a /Factory/ so py knows to delete it.
-Done Plot singular value spectrum,
-Done need a site selection sider like in coolfoil
-Done Refactor sweep left/right routines.  Tonnes of diplicated code in there.
    This took a whole day and three commits.
-Done Get rid of all S2's, just use double S everywhere.
-Figure out why S=1,L>5 has such poor convergence. We may need to count degeneracy of lowest SVs.
    -For L=5 D>=9 works, but that is the 2^L Hilbert space
    -For L=6 D=12 and D=27 works
    -For L=9 Hard to find a D that converges
Bugs:
    -log(DE) stops plotting L=6, S=1 D=?
    -Bond Entropy missing points L=6 D=?
    -Current task messages don;t always make sense, site number are often off by 1.
-Why Eigen values of Sus tensor <S^a*S^b>-<S^a>*<S^b> are not equal they always look like (e1,e1,e2) or (e1,e2,e2).
-Why optimize site 1, just leave it a |up> and take out global SU(2) invariance
    is this related to poor convergence for S>1/2 ??
-Why is dE~10e-15 for sites 1&2 on right sweep and sites L-1,L-2 on left sweep?
    is this related to poor convergence for S>1/2 ??
-Why does MPS compression convergence criteria (Sholwock page 132 yield wierd numbers)
-Valgrind, any memeory leaks?


-DOne Fresh checkout and build.
-Done Refactor operators into a separate folder.
-Done Calc <Sx> <Sy> <Sz>
    Done Could start by calculating one density matrices.  Then ops are easy
-Done Correlation functions <Sa*Sa+n>-<Sa>*<Sa+n>
    Done Extend to pair density matricies.  It would interesting to see the eigen values of distant
    pair DMs.  Do the lowest two EVs drop with distance, indicating decrreasing entanglement?
-Done Calc 1&2 site density matrices
    Done Start a new theory doc.
    Done Get refs working from DOIs (give up on JabRef)
    Done Write out diagrams and iterative formulas for 2 site density matrix.

-Done -Start a new cleaner lyx doc with tensor diagrams
    Done -Find a quite diagraming tool: LibreOfficeDraw seems to work.  However you can export whole pages
     as PNGs so one must then use ImageMagic to crop and separate the diagram.  Ho-hum
-Done Separate out contraction code in MPSite
-Done Get rid of old dumm-ass contraction code.
-Done Simplify rescale step in normalization
-Done Clean up GetDw interface.
-Done Use spin calculator in Heis Ham
-Done Mega classes MPState MPSite are too big, how split up responsibilities?
    Move some stuff into bond objects
    Partially DONE.  Made more stuff private at least.
-Done Give Lanczos an initial guess from previous iteration.
-Done Speed up <E^2> contractions, take advantage of W shapes.  Make Dw2 a function of w1.
    Before Implementation:
        <E^2> contraction for L=10, S=2.5, D=4 took 10.6321 seconds.
        <E^2> contraction for L=10, S=0.5, D=16 took 28.8432 seconds.
    After implementation:
        <E^2> contraction for L=10, S=2.5, D=4 took 2.66917 seconds.
        <E^2> contraction for L=10, S=0.5, D=16 took 6.41037 seconds.
    Further reduced by return referneces in GetW calls
        <E^2> contraction for L=10, S=2.5, D=4 took 0.916441 seconds.
        <E^2> contraction for L=10, S=0.5, D=16 took 3.01753 seconds.
    Put gates in to check for the more zero elements in W
        <E^2> contraction for L=10, S=2.5, D=4 took 0.076742 seconds.
        <E^2> contraction for L=10, S=0.5, D=16 took 0.660434 seconds.

    Cleaned up the last few W(n,m) multiplictions and ranges.  Now this is the hot loop
    SparseMatrix<std::complex<double> >::DoMVMultiplication

-Done Give eigen solver a good starting wavevector.

-Imag time evolution
-Periodic boundary conditions.  This is less useful than iMPS
-iMPS, iDMRG
-GUI using wxPython
    -What to show in screen?
        Lattice
        Vectors (Sx,Sy,Sz) project to 2D.
        Colours
            Site energy
            Bond entropy
            Normalization A,B,M
Done    Live Graphs
            E vs iter#
            Sigma(E)  vs iter#
            Bond entropy vs site#
            <S^2> vs site#
            <E> vs site#
            Rank & D vs site#
            Heff degeneracy vs site # (might be harder with lowest eigen value solvers)



DONE -S>1/2 in Hamiltonian.  SPeed is irrelevant here.
DONE -Keep intermediates when iterating L&R tensors for Heff.
DONE -Iterate function with delta(E) convergence
DONE -  Improve with <H^2>-<H>^2 convergence, You need converge in D for this to go to zero.
DONE -Show sparsisity (# non zero elements) in H_eff for each site.
DONE -Profile, where are we spending the most time?
DONE -Start using sparse eigen solver.  Used the PRIMME system.
Done Separate norm status widgets for each site, update singles
E/J plot for each site doesn't really work since the y range gets so tiny
    Done Fix some plots, plot dE vs site# on log scale
    Done Plot points instead of lines
    Does wxDrivet support log scales?
    Done Rank vs. site#
    Done Fix axis code to avoid scientific unless ymin=0 or ymax=0
Control panel
    Done Get restart working(have restart do what start does now, get rid of start, play nad step will start it)
    Done On startup Step should start the run
    Done Stop shoud kill the thread
Done Split the classes into separate files wxMPSFrame.py is getting too big.
Done Create Bond objects between sites.  Each site can see its left and right bond objects.
Done Fix alignments on Ham tab
Done Use eps values.




